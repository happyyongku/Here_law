import psycopg2
from datetime import datetime

# PostgreSQL 연결 설정
conn = psycopg2.connect(
    dbname="here_law",
    user="here_law_admin",
    password="1234",
    host="3.36.85.129",
    port="5434"
)

# 커서 생성
cursor = conn.cursor()

# 데이터 삽입 함수
def insert_posting(title, category, content, image=None, view_count=0, likes=0):
    query = """
        INSERT INTO news (title, category, created_at, image, content, view_count, likes)
        VALUES (%s, %s, %s, %s, %s, %s, %s)
    """
    # 현재 시간으로 created_at 생성
    created_at = datetime.now()
    
    # 데이터를 삽입
    cursor.execute(query, (title, category, created_at, image, content, view_count, likes))
    conn.commit()

# 가족법 포스팅 예시 데이터 삽입
title = "오정우 전 포항MBC 사장, 부당해임 손해배상 소송에서 최종 승소"
category = "노동 및 고용법"
content = """
오정우 전 포항MBC 사장이 부당하게 해임됐다며 포항MBC를 상대로 제기한 손해배상 소송에서 최종 승소했습니다. 대법원은 오 전 사장이 제기한 소송에서 원고 일부 승소를 인정한 항소심 판결을 확정하며, 회사가 그에게 손해배상금을 지급해야 한다고 판단했습니다.

사건 개요
포항MBC는 2018년 3월 정기 주주총회를 통해 오 전 사장을 대표이사 및 사내이사직에서 해임했습니다. 해임 사유로는 △장기간 방송 파행의 책임 △조직통할 능력 부족 △경영능력 부재 △회사 명예 및 국민신뢰 실추 등이 제시되었습니다. 하지만 오 전 사장은 이 해임이 부당하다며 남은 임기 동안의 보수를 청구하는 손해배상 소송을 제기했습니다.

법원의 판단
1심은 포항MBC가 제시한 해임 사유가 정당하지 않다고 판단했습니다. MBC 본사 노조의 파업으로 인해 방송 파행이 발생한 것이지, 오 전 사장이 이에 대한 책임이 없다고 봤습니다. 또, 오 전 사장이 경영자로서 업무를 제대로 수행하지 못한 증거도 없다는 이유로, 포항MBC가 오 전 사장에게 5억6843만 원을 지급하라는 판결을 내렸습니다.

항소심에서는 배상액이 다소 줄어들었지만, 여전히 오 전 사장이 부당하게 해임되었음을 인정했습니다. 다만, 배상액은 4억211만 원으로 조정되었는데, 이는 '대표이사' 지위가 아닌 '이사'로서 받을 수 있는 보수를 기준으로 산정된 금액입니다.

법적 쟁점
이 사건에서 핵심적인 법적 쟁점은 오 전 사장이 '대표이사'로서 해임된 것이 정당한가, 그리고 해임된 이사의 손해배상 범위는 어디까지인지에 관한 것이었습니다. 상법 제385조에 따르면, 정당한 이유 없이 해임된 이사는 손해배상을 청구할 수 있으며, 법원은 이사의 지위에서 받을 수 있었던 보수를 기준으로 손해배상액을 산정해야 한다고 판결했습니다.

대법원의 최종 판결
대법원은 항소심의 판단에 문제가 없다고 보고, 항소심 판결을 그대로 확정했습니다. 이로써 오 전 사장은 포항MBC로부터 손해배상금을 받을 수 있게 되었습니다.

판결의 의미
이번 대법원 판결은 기업에서 임원이 정당한 이유 없이 해임될 경우, 이사가 받을 수 있었던 보수에 대해 손해배상 청구가 가능하다는 점을 다시 한 번 확인시켜 주었습니다. 특히, 대표이사와 이사의 지위와 권한 차이를 명확히 설명하며, 이사의 해임에 따른 법적 책임 범위에 대해 구체적인 기준을 제시한 중요한 판례로 남을 것입니다.
"""

# 포스팅 삽입 호출
insert_posting(title, category, content)

# 연결 종료
cursor.close()
conn.close()
